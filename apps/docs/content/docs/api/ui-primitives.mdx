---
title: UI Primitives API Reference
description: Complete API reference for @solana-commerce/ui-primitives
---

# UI Primitives API Reference

Complete API documentation for the `@solana-commerce/ui-primitives` package.

## Installation

```bash
pnpm add @solana-commerce/ui-primitives
```

## Web Components

### `<dialog-wrapper>`

Main container element for modal dialogs built on the native HTML `<dialog>` element.

**Attributes:**

- `open` - Boolean attribute that controls dialog visibility
- `id` - Unique identifier for the dialog

**Events:**

- `open` - Fired when the dialog opens
- `close` - Fired when the dialog closes

**Methods:**

- `show()` - Programmatically show the dialog
- `hide(options?)` - Programmatically hide the dialog

**Example:**

```html
<dialog-wrapper id="payment-dialog">
  <dialog>
    <dialog-backdrop></dialog-backdrop>
    <dialog-panel>
      <h2>Payment Required</h2>
      <p>Please complete your payment.</p>
      <button command="close" commandfor="payment-dialog">Close</button>
    </dialog-panel>
  </dialog>
</dialog-wrapper>

<button command="show-modal" commandfor="payment-dialog">Open Dialog</button>
```

**CSS Classes & States:**

The component automatically applies data attributes for styling:

```css
/* Dialog states */
dialog-wrapper[data-closed] { display: none; }
dialog-wrapper[data-enter] { /* Entering animation */ }
dialog-wrapper[data-leave] { /* Leaving animation */ }
dialog-wrapper[data-transition] { /* During transition */ }
```

---

### `<dialog-backdrop>`

Backdrop/overlay element that appears behind the dialog content.

**Attributes:**

- Standard HTML attributes (class, style, etc.)

**Events:**

- `click` - Clicking the backdrop closes the dialog (unless prevented)

**Example:**

```html
<dialog-backdrop></dialog-backdrop>
```

**Default Styling:**

```css
dialog-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px);
}
```

---

### `<dialog-panel>`

The main content container within the dialog.

**Attributes:**

- Standard HTML attributes (class, style, etc.)

**Example:**

```html
<dialog-panel>
  <h2>Dialog Title</h2>
  <p>Dialog content goes here.</p>
  <button>Action</button>
</dialog-panel>
```

**Default Styling:**

```css
dialog-panel {
  position: relative;
  background: white;
  border-radius: 8px;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
  max-width: 90vw;
  max-height: 90vh;
  overflow-y: auto;
}
```

---

## Command System

The UI primitives include a command system for declarative interactions.

### Command Attributes

**`command`**

Specifies the action to perform:

- `show-modal` - Opens the target dialog
- `close` - Closes the target dialog

**`commandfor`**

Specifies the target dialog ID.

**`target`**

Alternative to `commandfor` for React components.

**Example:**

```html
<!-- Button to open dialog -->
<button command="show-modal" commandfor="my-dialog">
  Open Dialog
</button>

<!-- Button to close dialog -->
<button command="close" commandfor="my-dialog">
  Close Dialog
</button>

<dialog-wrapper id="my-dialog">
  <dialog>
    <dialog-backdrop></dialog-backdrop>
    <dialog-panel>
      <h2>My Dialog</h2>
      <button command="close" commandfor="my-dialog">Close</button>
    </dialog-panel>
  </dialog>
</dialog-wrapper>
```

---

## React Integration

### Components

When using with React, import the React wrapper components:

```tsx
import { 
  Dialog, 
  DialogPanel, 
  DialogBackdrop, 
  DialogButton 
} from '@solana-commerce/ui-primitives/react';
```

### `Dialog`

React wrapper for `<dialog-wrapper>`.

**Props:**

```typescript
interface DialogProps {
  open?: boolean;                    // Controls dialog visibility
  onClose?: () => void;             // Called when dialog closes
  children: React.ReactNode;        // Dialog content
  className?: string;               // CSS classes
  style?: React.CSSProperties;      // Inline styles
  id?: string;                      // Dialog ID
}
```

**Example:**

```tsx
import { Dialog, DialogPanel, DialogBackdrop } from '@solana-commerce/ui-primitives/react';

function PaymentDialog({ open, onClose }) {
  return (
    <Dialog open={open} onClose={onClose}>
      <dialog id="payment">
        <DialogBackdrop />
        <DialogPanel>
          <h2>Payment Required</h2>
          <p>Please scan the QR code.</p>
          <button onClick={onClose}>Close</button>
        </DialogPanel>
      </dialog>
    </Dialog>
  );
}
```

### `DialogPanel`

React wrapper for `<dialog-panel>`.

**Props:**

```typescript
interface DialogPanelProps {
  children: React.ReactNode;
  className?: string;
  style?: React.CSSProperties;
}
```

**Example:**

```tsx
<DialogPanel className="p-6 max-w-md">
  <h2>Dialog Title</h2>
  <p>Content goes here.</p>
</DialogPanel>
```

### `DialogBackdrop`

React wrapper for `<dialog-backdrop>`.

**Props:**

```typescript
interface DialogBackdropProps {
  onClick?: () => void;             // Click handler
  className?: string;
  style?: React.CSSProperties;
}
```

**Example:**

```tsx
<DialogBackdrop 
  onClick={onClose}
  className="bg-black bg-opacity-50"
/>
```

### `DialogButton`

React component for dialog command buttons.

**Props:**

```typescript
interface DialogButtonProps {
  command: 'show-modal' | 'close';  // Command to execute
  target?: string;                  // Target dialog ID
  children: React.ReactNode;        // Button content
  onClick?: () => void;             // Additional click handler
  className?: string;
  style?: React.CSSProperties;
  disabled?: boolean;
}
```

**Example:**

```tsx
<DialogButton 
  command="close" 
  target="payment-dialog"
  className="btn btn-primary"
>
  Close Payment
</DialogButton>
```

---

## JavaScript API

### Programmatic Control

Access dialog elements programmatically:

```javascript
// Get dialog wrapper element
const dialogWrapper = document.querySelector('dialog-wrapper');

// Show dialog
await dialogWrapper.show();

// Hide dialog
await dialogWrapper.hide();

// Hide with options
await dialogWrapper.hide({ restoreFocus: true });

// Listen to events
dialogWrapper.addEventListener('open', () => {
  console.log('Dialog opened');
});

dialogWrapper.addEventListener('close', () => {
  console.log('Dialog closed');
});
```

### Event Handling

```javascript
// Custom event handling
const dialog = document.getElementById('my-dialog');

dialog.addEventListener('open', (event) => {
  console.log('Dialog opened:', event.target);
  // Track analytics, prepare content, etc.
});

dialog.addEventListener('close', (event) => {
  console.log('Dialog closed:', event.target);
  // Clean up, save state, etc.
});

// Backdrop click handling
const backdrop = dialog.querySelector('dialog-backdrop');
backdrop.addEventListener('click', (event) => {
  // Custom close logic
  if (canClose()) {
    dialog.hide();
  }
});
```

---

## Styling

### CSS Custom Properties

Use CSS custom properties for consistent theming:

```css
:root {
  /* Backdrop */
  --dialog-backdrop-color: rgba(0, 0, 0, 0.5);
  --dialog-backdrop-blur: 4px;
  
  /* Panel */
  --dialog-panel-bg: white;
  --dialog-panel-radius: 12px;
  --dialog-panel-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
  --dialog-panel-border: 1px solid #e5e7eb;
  
  /* Animation */
  --dialog-transition-duration: 0.2s;
  --dialog-transition-timing: ease-out;
}

dialog-backdrop {
  background: var(--dialog-backdrop-color);
  backdrop-filter: blur(var(--dialog-backdrop-blur));
}

dialog-panel {
  background: var(--dialog-panel-bg);
  border-radius: var(--dialog-panel-radius);
  box-shadow: var(--dialog-panel-shadow);
  border: var(--dialog-panel-border);
}
```

### Animation Classes

Style different dialog states:

```css
/* Base styles */
dialog-wrapper {
  position: fixed;
  inset: 0;
  z-index: 50;
}

/* Closed state */
dialog-wrapper[data-closed] {
  display: none;
}

/* Transition states */
dialog-wrapper[data-transition] dialog-backdrop,
dialog-wrapper[data-transition] dialog-panel {
  transition: all var(--dialog-transition-duration) var(--dialog-transition-timing);
}

/* Entering animation */
dialog-wrapper[data-enter] dialog-backdrop {
  opacity: 0;
}

dialog-wrapper[data-enter] dialog-panel {
  opacity: 0;
  transform: scale(0.95) translateY(-10px);
}

/* Leaving animation */
dialog-wrapper[data-leave] dialog-backdrop {
  opacity: 0;
}

dialog-wrapper[data-leave] dialog-panel {
  opacity: 0;
  transform: scale(0.95) translateY(10px);
}

/* Open state (default) */
dialog-wrapper dialog-backdrop {
  opacity: 1;
}

dialog-wrapper dialog-panel {
  opacity: 1;
  transform: scale(1) translateY(0);
}
```

### Responsive Design

Make dialogs responsive:

```css
dialog-panel {
  width: 90vw;
  max-width: 500px;
  max-height: 90vh;
  overflow-y: auto;
  margin: 1rem;
}

/* Mobile styles */
@media (max-width: 640px) {
  dialog-panel {
    width: 95vw;
    max-width: none;
    margin: 0.5rem;
  }
}

/* Desktop styles */
@media (min-width: 1024px) {
  dialog-panel {
    max-width: 600px;
  }
}
```

---

## Framework Integration

### Vue.js

```vue
<template>
  <div>
    <button @click="openDialog">Open Dialog</button>
    
    <dialog-wrapper :open="isOpen" @close="closeDialog">
      <dialog id="vue-dialog">
        <dialog-backdrop @click="closeDialog"></dialog-backdrop>
        <dialog-panel class="p-6">
          <h2>Vue Dialog</h2>
          <p>This dialog is integrated with Vue.js</p>
          <button @click="closeDialog">Close</button>
        </dialog-panel>
      </dialog>
    </dialog-wrapper>
  </div>
</template>

<script>
import '@solana-commerce/ui-primitives';

export default {
  data() {
    return {
      isOpen: false
    };
  },
  methods: {
    openDialog() {
      this.isOpen = true;
    },
    closeDialog() {
      this.isOpen = false;
    }
  }
};
</script>
```

### Svelte

```svelte
<script>
  import '@solana-commerce/ui-primitives';
  
  let isOpen = false;
  
  function openDialog() {
    isOpen = true;
  }
  
  function closeDialog() {
    isOpen = false;
  }
</script>

<button on:click={openDialog}>Open Dialog</button>

<dialog-wrapper open={isOpen || undefined} on:close={closeDialog}>
  <dialog id="svelte-dialog">
    <dialog-backdrop on:click={closeDialog}></dialog-backdrop>
    <dialog-panel class="p-6 max-w-md">
      <h2>Svelte Dialog</h2>
      <p>This dialog works great with Svelte!</p>
      <button on:click={closeDialog}>Close</button>
    </dialog-panel>
  </dialog>
</dialog-wrapper>
```

### Angular

```typescript
// dialog.component.ts
import { Component, Input, Output, EventEmitter } from '@angular/core';
import '@solana-commerce/ui-primitives';

@Component({
  selector: 'app-dialog',
  template: `
    <dialog-wrapper [attr.open]="open ? '' : null" (close)="onClose()">
      <dialog>
        <dialog-backdrop (click)="onClose()"></dialog-backdrop>
        <dialog-panel class="p-6">
          <ng-content></ng-content>
          <button (click)="onClose()">Close</button>
        </dialog-panel>
      </dialog>
    </dialog-wrapper>
  `
})
export class DialogComponent {
  @Input() open = false;
  @Output() close = new EventEmitter<void>();

  onClose() {
    this.close.emit();
  }
}
```

---

## Accessibility

### ARIA Support

The dialog component includes comprehensive accessibility features:

```html
<dialog-wrapper role="dialog" aria-modal="true" aria-labelledby="dialog-title">
  <dialog>
    <dialog-backdrop></dialog-backdrop>
    <dialog-panel>
      <h2 id="dialog-title">Accessible Dialog</h2>
      <p id="dialog-description">This dialog is screen reader friendly.</p>
      <button aria-label="Close dialog">×</button>
    </dialog-panel>
  </dialog>
</dialog-wrapper>
```

### Keyboard Navigation

- **Escape key** - Closes the dialog
- **Tab key** - Focus is trapped within the dialog
- **Focus management** - Restores focus to trigger element on close

### Screen Reader Support

```html
<!-- Proper labeling -->
<dialog-wrapper 
  role="dialog"
  aria-modal="true"
  aria-labelledby="payment-title"
  aria-describedby="payment-description"
>
  <dialog>
    <dialog-panel>
      <h2 id="payment-title">Payment Required</h2>
      <p id="payment-description">
        Please scan the QR code below to complete your payment.
      </p>
    </dialog-panel>
  </dialog>
</dialog-wrapper>
```

---

## Browser Support

### Requirements

- **Custom Elements v1** - For web components
- **HTML Dialog Element** - For native dialog functionality
- **ES2015+** - For modern JavaScript features

### Polyfills

For older browsers, include polyfills:

```html
<!-- Custom Elements polyfill -->
<script src="https://unpkg.com/@webcomponents/custom-elements@1.4.3/custom-elements.min.js"></script>

<!-- Dialog polyfill -->
<script src="https://unpkg.com/dialog-polyfill@0.5.6/dist/dialog-polyfill.js"></script>
<link rel="stylesheet" href="https://unpkg.com/dialog-polyfill@0.5.6/dist/dialog-polyfill.css">
```

### Browser Compatibility

| Browser | Version | Support |
|---------|---------|---------|
| Chrome | 67+ | ✅ Native |
| Firefox | 98+ | ✅ Native |
| Safari | 15.4+ | ✅ Native |
| Edge | 79+ | ✅ Native |
| IE 11 | - | ⚠️ With polyfills |

---

## Advanced Usage

### Custom Dialog Types

Create specialized dialog types:

```javascript
class ConfirmDialog extends HTMLElement {
  connectedCallback() {
    this.innerHTML = `
      <dialog-wrapper>
        <dialog>
          <dialog-backdrop></dialog-backdrop>
          <dialog-panel>
            <h3>Confirm Action</h3>
            <p>Are you sure you want to proceed?</p>
            <div>
              <button id="confirm">Confirm</button>
              <button id="cancel">Cancel</button>
            </div>
          </dialog-panel>
        </dialog>
      </dialog-wrapper>
    `;
    
    this.querySelector('#confirm').onclick = () => {
      this.dispatchEvent(new CustomEvent('confirm'));
      this.close();
    };
    
    this.querySelector('#cancel').onclick = () => {
      this.close();
    };
  }
  
  show() {
    this.querySelector('dialog-wrapper').show();
  }
  
  close() {
    this.querySelector('dialog-wrapper').hide();
  }
}

customElements.define('confirm-dialog', ConfirmDialog);
```

### Multiple Dialog Management

```javascript
class DialogManager {
  constructor() {
    this.openDialogs = new Set();
  }
  
  open(dialogId) {
    const dialog = document.getElementById(dialogId);
    if (dialog) {
      dialog.show();
      this.openDialogs.add(dialogId);
    }
  }
  
  close(dialogId) {
    const dialog = document.getElementById(dialogId);
    if (dialog) {
      dialog.hide();
      this.openDialogs.delete(dialogId);
    }
  }
  
  closeAll() {
    this.openDialogs.forEach(id => this.close(id));
  }
  
  isOpen(dialogId) {
    return this.openDialogs.has(dialogId);
  }
}

const dialogManager = new DialogManager();
```

---

## Migration Guide

### From HTML Dialog

If you're using native HTML dialog:

**Before:**
```html
<dialog id="my-dialog">
  <div class="backdrop"></div>
  <div class="panel">
    <h2>Dialog</h2>
    <button onclick="document.getElementById('my-dialog').close()">Close</button>
  </div>
</dialog>

<script>
  document.getElementById('open-btn').onclick = () => {
    document.getElementById('my-dialog').showModal();
  };
</script>
```

**After:**
```html
<dialog-wrapper id="my-dialog">
  <dialog>
    <dialog-backdrop></dialog-backdrop>
    <dialog-panel>
      <h2>Dialog</h2>
      <button command="close" commandfor="my-dialog">Close</button>
    </dialog-panel>
  </dialog>
</dialog-wrapper>

<button command="show-modal" commandfor="my-dialog">Open</button>
```

---

## Support

- **GitHub Issues**: [Report bugs and request features](https://github.com/your-org/solana-commerce/issues)
- **Documentation**: [Complete guides and examples](/docs)
- **Framework Support**: React, Vue, Svelte, Angular, and vanilla JavaScript
- **Accessibility**: WCAG 2.1 compliant with proper ARIA support 